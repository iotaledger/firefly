<script lang="ts">
    import { Button, ButtonVariant, Text, TextType } from '@ui'

    import { localize } from '@core/i18n'
    import { INode } from '@core/network'

    import { NetworkInformationSettingsAction } from '@/contexts/settings'

    export let action: NetworkInformationSettingsAction = undefined
    export let node: INode = { url: '' }
    export let onConfirm: () => void = undefined
    export let onCancel: () => void = undefined

    let descriptionText: string = ''
    let confirmButtonText: string = ''

    $: action, setContent()

    function setContent(): void {
        switch (action) {
            case NetworkInformationSettingsAction.UnsetAsPrimaryNode:
                descriptionText = localize('popups.unsetAsPrimaryNode.body', { values: { url: node.url } })
                confirmButtonText = localize('actions.clear')
                break
            case NetworkInformationSettingsAction.ExcludeNode:
                descriptionText = localize('popups.excludeNode.body', { values: { url: node?.url } })
                confirmButtonText = localize('views.settings.configureNodeList.excludeNode')
                break
            case NetworkInformationSettingsAction.DeleteNode:
                descriptionText = localize('popups.node.removeConfirmation')
                confirmButtonText = localize('actions.removeNode')
                break
        }
    }
</script>

<node-confirmation-view class="flex-1 flex flex-col justify-between space-y-4">
    <Text type={TextType.p}>{descriptionText}</Text>
    <div class="flex flex-col w-full space-y-4">
        <Button classes="w-full" outline onClick={onCancel}>{localize('actions.cancel')}</Button>
        <Button classes="w-full" variant={ButtonVariant.Warning} onClick={onConfirm}>
            {confirmButtonText}
        </Button>
    </div>
</node-confirmation-view>
